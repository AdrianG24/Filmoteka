{"mappings":"AAMaA,SAASC,cAAc,QANpC,MAOMC,EAAQF,SAASC,cAAc,sBAC/BE,EAAYH,SAASC,cAAc,uBACnCG,EAAWJ,SAASC,cAAc,gBAClCI,EAAiBL,SAASC,cAAc,oBAG9CK,eAAeC,IACb,MAAMC,QAAaC,MACjB,4FAEIC,QAAiBF,EAAKG,OAE5B,OADAC,QAAQC,IAAI,aAAcH,EAASI,SAC5BJ,EAASI,QAIlBR,eAAeS,IACb,MAAMP,QAAaC,MACjB,0FAEIC,QAAiBF,EAAKG,OAC5BC,QAAQC,IAAI,aAAcH,GA2F5BJ,eAAeU,EAAUC,GACvB,MAAMC,QATRZ,eAA+Ba,GAC7B,MAAMX,QAAaC,MACjB,sCAAsCU,qDAGxC,aADuBX,EAAKG,QACZG,QAAQ,GAAGM,IAIAC,CAAgBJ,EAAUK,IAErDjB,EAAekB,UAAUC,IAAI,wBAC7BnB,EAAeoB,MAAMC,WAAa,qDAzHjB,mCA0HQT,EAAUU,eACnCtB,EAAeuB,UAAY,oNA3HV,mCAgIgBX,EAAUU,+KAM3BV,EAAUY,iRAMNZ,EAAUa,+FAE5Bb,EAAUc,iNAKQd,EAAUe,oOAMVf,EAAUY,oNAMVZ,EAAUgB,sJAIkBhB,EAAUiB,6aAQ8BhB,gRAO1ElB,SAASC,cAAc,YAC/BkC,iBAAiB,SAAS,IAC9B9B,EAAekB,UAAUa,OAAO,0BAGlC,MAAMC,EAAUrC,SAASC,cAAc,YACvCoC,EAAQF,iBAAiB,SAAS,KAC5BE,EAAQd,UAAUe,SAAS,SAC7BD,EAAQd,UAAUa,OAAO,SAEzBC,EAAQd,UAAUC,IAAI,YAI1B,MAAMe,EAAQvC,SAASC,cAAc,UACrCsC,EAAMJ,iBAAiB,SAAS,KAC1BI,EAAMhB,UAAUe,SAAS,SAC3BC,EAAMhB,UAAUa,OAAO,SAEvBG,EAAMhB,UAAUC,IAAI,YA3L1BjB,IAUAQ,IAWAT,iBACE,MAAMkC,QAAajC,IAEnBH,EAASwB,UAAYY,EAClBC,MAAM,EAAG,IACTC,KAAIC,GACI,uCACuBA,EAAErB,0DAtCnB,mCAwCkBqB,EAAEhB,iGAGFgB,EAAEd,oFAEXd,EACN4B,EAAEV,mEACsDW,OAAOC,SAC7EF,EAAEG,qDACqCH,EAAEb,oFAM5CiB,KAAK,IAGR,IADc/C,SAASgD,uBAAuB,SACnCC,SAAQC,IACjB,MAAMjC,EAAYuB,EAAKW,MAAKR,GAAKA,EAAErB,GAAG8B,aAAeF,EAAK5B,GAAG8B,aAC7DF,EAAKf,iBAAiB,SAAS,IAAMnB,EAAUC,QA9BnDoC,GA4CAlD,EAAUgC,iBAAiB,SAC3B7B,iBACE,MAAMkC,QAXRlC,eAA2BgD,GACzB,MAAM9C,QAAaC,MACjB,4FAAsE6C,WAIxE,aADuB9C,EAAKG,QACZG,QAKGyC,CAAYrD,EAAMsD,OAErCpD,EAASwB,UAAYY,EAClBE,KAAIC,GACI,+BACeA,EAAErB,0DAjFX,mCAmFkBqB,EAAEhB,iGAGFgB,EAAEd,oFAGjBc,EAAEV,8CACiCW,OAAOC,SACxDF,EAAEG,qCACqBH,EAAEb,oFAM5BiB,KAAK,IAIR,IAFc/C,SAASgD,uBAAuB,SAEnCC,SAAQC,IACjB,MAAMjC,EAAYuB,EAAKW,MAAKR,GAAKA,EAAErB,GAAG8B,aAAeF,EAAK5B,GAAG8B,aAC7DF,EAAKf,iBAAiB,SAAS,IAAMnB,EAAUC","sources":["src/index.js"],"sourcesContent":["const KEY_API = `ffeb03df3c566546ba0b7ea9b4239463`;\nconst BASE_URL = `https://api.themoviedb.org/3`;\nconst IMAGE_PATH = `https://image.tmdb.org/t/p/w1280`;\nconst trailer_path = `https://www.youtube.com/watch?v=`;\nconst API_URL = `https://api.themoviedb.org/3/tv/popular?api_key=${KEY_API}`;\n// api details\nconst form = document.querySelector('form');\nconst input = document.querySelector('.search-form input');\nconst searchBtn = document.querySelector('.search-form button');\nconst mainGrid = document.querySelector('.movies-grid');\nconst modalContainer = document.querySelector('.modal-container');\n\ngetTrendingMovies();\nasync function getTrendingMovies() {\n  const resp = await fetch(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=${KEY_API}`\n  );\n  const respData = await resp.json();\n  console.log('Get Movies', respData.results);\n  return respData.results;\n}\n\ngetGenres();\nasync function getGenres() {\n  const resp = await fetch(\n    `https://api.themoviedb.org/3/genre/movie/list?api_key=${KEY_API}`\n  );\n  const respData = await resp.json();\n  console.log('Get Genres', respData);\n  // return respData;\n}\n\nshowTrending();\nasync function showTrending() {\n  const data = await getTrendingMovies();\n\n  mainGrid.innerHTML = data\n    .slice(0, 18)\n    .map(e => {\n      return `\n            <div class=\"card\" id=\"${e.id}\">\n        <div class=\"img\">\n            <img src=\"${IMAGE_PATH + e.poster_path}\">\n        </div>\n        <div class=\"info\">\n            <h2 class=\"movie-name\">${e.title}</h2>\n                <div class=\"single-info\">\n                    <span>${getGenres(\n                      e.genre_ids\n                    )}</span> <span class = \"info-span\">&#124;</span><span >${Number.parseInt(\n        e.release_date\n      )}</span><span class = release-rating> ${e.vote_average}</span>\n                </div>\n        </div>\n    </div>\n      `;\n    })\n    .join('');\n\n  const cards = document.getElementsByClassName('card');\n  [...cards].forEach(card => {\n    const movieData = data.find(e => e.id.toString() === card.id.toString());\n    card.addEventListener('click', () => showModal(movieData));\n  });\n}\n\n// SEARCH MOVIE\nasync function searchMovie(searchWord) {\n  const resp = await fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${KEY_API}&query=${searchWord}\n    `\n  );\n  const respData = await resp.json();\n  return respData.results;\n}\n\nsearchBtn.addEventListener('click', searchedMovies);\nasync function searchedMovies() {\n  const data = await searchMovie(input.value);\n\n  mainGrid.innerHTML = data\n    .map(e => {\n      return `\n    <div class=\"card\" id=\"${e.id}\">\n        <div class=\"img\">\n            <img src=\"${IMAGE_PATH + e.poster_path}\">\n        </div>\n        <div class=\"info\">\n            <h2 class=\"movie-name\">${e.title}</h2>\n                <div class=\"single-info\">\n                    <span>${\n                      e.genre_ids\n                    }</span> <span>&#124;</span> <span>${Number.parseInt(\n        e.release_date\n      )}</span><span>Rating: ${e.vote_average}</span>\n                </div>\n        </div>\n    </div>\n      `;\n    })\n    .join('');\n\n  const cards = document.getElementsByClassName('card');\n  // console.log('рендер пошуку', cards);\n  [...cards].forEach(card => {\n    const movieData = data.find(e => e.id.toString() === card.id.toString());\n    card.addEventListener('click', () => showModal(movieData));\n  });\n}\n\n// MODAL\nasync function getMovieTrailer(movieId) {\n  const resp = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}/videos?api_key=${KEY_API}`\n  );\n  const respData = await resp.json();\n  return respData.results[0].key;\n}\n\nasync function showModal(movieData) {\n  const movieTrailer = await getMovieTrailer(movieData.id);\n  // console.log(movieTrailer);\n  modalContainer.classList.add('show-modal-container');\n  modalContainer.style.background = `linear-gradient(#9d5727, #00000073),\n        url(${IMAGE_PATH + movieData.poster_path})`;\n  modalContainer.innerHTML = `<span class=\"modal-x\">&#10006</span>\n        <div class=\"modal-content\">\n            <div class=\"modal-left\">\n                <div class=\"modal-poster-img\">\n                    <img class=\"modal-img\" src=\"${\n                      IMAGE_PATH + movieData.poster_path\n                    }\" alt=\"\">\n                </div>\n            </div>\n            <div class=\"modal-right\">\n                <h2 class=\"modal-movie-name\" id=\"modal-movie-name\">${\n                  movieData.title\n                }</h2>\n                <div class=\"modal-poster-info\">\n                  <div class=\"modal-box\">\n                    <h4 class=\"modal-vote grey-style\">Vote <span class=\"modal-vote-span grey-style\">/</span> Votes</h4>\n                    <p class=\"modal-rating\"> ${\n                      movieData.vote_average\n                    } </p><span class=\"modal-rating-span black-style\">/</span><p class=\"black-style\">${\n    movieData.vote_count\n  }</p></div>\n                <div class=\"modal-box\">\n                    <h4 class=\"modal-popularity grey-style\">Popularity</h4>\n                    <p class=\"modal-popularity-score black-style\">${\n                      movieData.popularity\n                    }</p>\n                    </div>\n                    <div class=\"modal-box\">\n                    <h4 class=\"modal-title grey-style\">Original Title</h4>\n                    <p class=\"modal-title-name black-style\">${\n                      movieData.title\n                    }</p>\n                    </div>\n                    <div class=\"modal-box\">\n                    <h4 class=\"modal-genre grey-style\">Genre</h4>\n                    <p class=\"modal-genre-id black-style\">${\n                      movieData.genre_ids\n                    }</p>\n                    </div>\n                    <h3 class=\"modal-about\">About</h3>\n                    <p class=\"modal-about-text\">${movieData.overview}</p>\n                    <div class=\"buttons\">\n                      <button class=\"queue\">ADD TO QUEUE</button>\n                      <button class=\"watched\">ADD TO WATCHED</button>\n                    </div>\n                </div>\n                <div class=\"trailer\">\n                    <h2 class=\"trail\">Trailer</h2>\n                    <iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/${movieTrailer}\" title=\"YouTube video player\"\n                    frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                    allowfullscreen></ifr>\n                </div>\n            </div>\n        </div>`;\n\n  const xIcon = document.querySelector('.modal-x');\n  xIcon.addEventListener('click', () =>\n    modalContainer.classList.remove('show-modal-container')\n  );\n\n  const watched = document.querySelector('.watched');\n  watched.addEventListener('click', () => {\n    if (watched.classList.contains('hover')) {\n      watched.classList.remove('hover');\n    } else {\n      watched.classList.add('hover');\n    }\n  });\n\n  const queue = document.querySelector('.queue');\n  queue.addEventListener('click', () => {\n    if (queue.classList.contains('hover')) {\n      queue.classList.remove('hover');\n    } else {\n      queue.classList.add('hover');\n    }\n  });\n}\n"],"names":["document","querySelector","$1f0dc3b9307be026$var$input","$1f0dc3b9307be026$var$searchBtn","$1f0dc3b9307be026$var$mainGrid","$1f0dc3b9307be026$var$modalContainer","async","$1f0dc3b9307be026$var$getTrendingMovies","resp","fetch","respData","json","console","log","results","$1f0dc3b9307be026$var$getGenres","$1f0dc3b9307be026$var$showModal","movieData","movieTrailer","movieId","key","$1f0dc3b9307be026$var$getMovieTrailer","id","classList","add","style","background","poster_path","innerHTML","title","vote_average","vote_count","popularity","genre_ids","overview","addEventListener","remove","watched","contains","queue","data","slice","map","e","Number","parseInt","release_date","join","getElementsByClassName","forEach","card","find","toString","$1f0dc3b9307be026$var$showTrending","searchWord","$1f0dc3b9307be026$var$searchMovie","value"],"version":3,"file":"library.636c71a1.js.map"}